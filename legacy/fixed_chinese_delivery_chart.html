
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>外卖平台微信指数趋势对比</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft YaHei', '微软雅黑', 'SimHei', Arial, sans-serif;
            margin: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .container {
            background-color: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .title {
            text-align: center;
            color: #333;
            margin-bottom: 10px;
            font-weight: bold;
            font-size: 24px;
        }
        
        .subtitle {
            text-align: center;
            color: #666;
            font-size: 14px;
            margin-bottom: 30px;
        }
        
        .chart-container {
            position: relative;
            height: 500px;
            margin: 30px 0;
            background: #fafafa;
            border-radius: 10px;
            padding: 20px;
            border: 1px solid #ddd;
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .stat-card {
            padding: 25px;
            border-radius: 12px;
            text-align: center;
            color: white;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: transform 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
        
        .stat-card h3 {
            margin: 0 0 15px 0;
            font-size: 20px;
        }
        
        .stat-card .value {
            font-size: 32px;
            margin: 15px 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .stat-card p {
            margin: 8px 0;
            font-size: 14px;
        }
        
        .loading {
            text-align: center;
            color: #666;
            font-size: 16px;
            padding: 50px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="title">外卖平台微信指数趋势对比</h1>
        <p class="subtitle">数据时间范围：2024年8月22日 - 2025年8月21日</p>
        
        <div class="chart-container">
            <div class="loading" id="loading">正在加载图表...</div>
            <canvas id="lineChart" style="display: none;"></canvas>
        </div>
        
        <div class="stats">

            <div class="stat-card" style="background: linear-gradient(135deg, #FF6600 0%, #FF6600DD 100%);">
                <h3>美团外卖</h3>
                <div class="value">4269万</div>
                <p>平均指数</p>
                <p>峰值：41096万</p>
                <p>最低：1455万</p>
                <p>数据点：365天</p>
            </div>
        
            <div class="stat-card" style="background: linear-gradient(135deg, #0078FF 0%, #0078FFDD 100%);">
                <h3>饿了么</h3>
                <div class="value">3960万</div>
                <p>平均指数</p>
                <p>峰值：30652万</p>
                <p>最低：676万</p>
                <p>数据点：365天</p>
            </div>
        
            <div class="stat-card" style="background: linear-gradient(135deg, #AA2116 0%, #AA2116DD 100%);">
                <h3>京东外卖</h3>
                <div class="value">5475万</div>
                <p>平均指数</p>
                <p>峰值：88482万</p>
                <p>最低：0万</p>
                <p>数据点：365天</p>
            </div>
        
        </div>
    </div>
    
    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.min.js"></script>
    
    <script>
        // 等待页面完全加载
        document.addEventListener('DOMContentLoaded', function() {
            
            // 图表标签和数据
            const labels = ["2024-08-22", "2024-08-23", "2024-08-24", "2024-08-25", "2024-08-26", "2024-08-27", "2024-08-28", "2024-08-29", "2024-08-30", "2024-08-31", "2024-09-01", "2024-09-02", "2024-09-03", "2024-09-04", "2024-09-05", "2024-09-06", "2024-09-07", "2024-09-08", "2024-09-09", "2024-09-10", "2024-09-11", "2024-09-12", "2024-09-13", "2024-09-14", "2024-09-15", "2024-09-16", "2024-09-17", "2024-09-18", "2024-09-19", "2024-09-20", "2024-09-21", "2024-09-22", "2024-09-23", "2024-09-24", "2024-09-25", "2024-09-26", "2024-09-27", "2024-09-28", "2024-09-29", "2024-09-30", "2024-10-01", "2024-10-02", "2024-10-03", "2024-10-04", "2024-10-05", "2024-10-06", "2024-10-07", "2024-10-08", "2024-10-09", "2024-10-10", "2024-10-11", "2024-10-12", "2024-10-13", "2024-10-14", "2024-10-15", "2024-10-16", "2024-10-17", "2024-10-18", "2024-10-19", "2024-10-20", "2024-10-21", "2024-10-22", "2024-10-23", "2024-10-24", "2024-10-25", "2024-10-26", "2024-10-27", "2024-10-28", "2024-10-29", "2024-10-30", "2024-10-31", "2024-11-01", "2024-11-02", "2024-11-03", "2024-11-04", "2024-11-05", "2024-11-06", "2024-11-07", "2024-11-08", "2024-11-09", "2024-11-10", "2024-11-11", "2024-11-12", "2024-11-13", "2024-11-14", "2024-11-15", "2024-11-16", "2024-11-17", "2024-11-18", "2024-11-19", "2024-11-20", "2024-11-21", "2024-11-22", "2024-11-23", "2024-11-24", "2024-11-25", "2024-11-26", "2024-11-27", "2024-11-28", "2024-11-29", "2024-11-30", "2024-12-01", "2024-12-02", "2024-12-03", "2024-12-04", "2024-12-05", "2024-12-06", "2024-12-07", "2024-12-08", "2024-12-09", "2024-12-10", "2024-12-11", "2024-12-12", "2024-12-13", "2024-12-14", "2024-12-15", "2024-12-16", "2024-12-17", "2024-12-18", "2024-12-19", "2024-12-20", "2024-12-21", "2024-12-22", "2024-12-23", "2024-12-24", "2024-12-25", "2024-12-26", "2024-12-27", "2024-12-28", "2024-12-29", "2024-12-30", "2024-12-31", "2025-01-01", "2025-01-02", "2025-01-03", "2025-01-04", "2025-01-05", "2025-01-06", "2025-01-07", "2025-01-08", "2025-01-09", "2025-01-10", "2025-01-11", "2025-01-12", "2025-01-13", "2025-01-14", "2025-01-15", "2025-01-16", "2025-01-17", "2025-01-18", "2025-01-19", "2025-01-20", "2025-01-21", "2025-01-22", "2025-01-23", "2025-01-24", "2025-01-25", "2025-01-26", "2025-01-27", "2025-01-28", "2025-01-29", "2025-01-30", "2025-01-31", "2025-02-01", "2025-02-02", "2025-02-03", "2025-02-04", "2025-02-05", "2025-02-06", "2025-02-07", "2025-02-08", "2025-02-09", "2025-02-10", "2025-02-11", "2025-02-12", "2025-02-13", "2025-02-14", "2025-02-15", "2025-02-16", "2025-02-17", "2025-02-18", "2025-02-19", "2025-02-20", "2025-02-21", "2025-02-22", "2025-02-23", "2025-02-24", "2025-02-25", "2025-02-26", "2025-02-27", "2025-02-28", "2025-03-01", "2025-03-02", "2025-03-03", "2025-03-04", "2025-03-05", "2025-03-06", "2025-03-07", "2025-03-08", "2025-03-09", "2025-03-10", "2025-03-11", "2025-03-12", "2025-03-13", "2025-03-14", "2025-03-15", "2025-03-16", "2025-03-17", "2025-03-18", "2025-03-19", "2025-03-20", "2025-03-21", "2025-03-22", "2025-03-23", "2025-03-24", "2025-03-25", "2025-03-26", "2025-03-27", "2025-03-28", "2025-03-29", "2025-03-30", "2025-03-31", "2025-04-01", "2025-04-02", "2025-04-03", "2025-04-04", "2025-04-05", "2025-04-06", "2025-04-07", "2025-04-08", "2025-04-09", "2025-04-10", "2025-04-11", "2025-04-12", "2025-04-13", "2025-04-14", "2025-04-15", "2025-04-16", "2025-04-17", "2025-04-18", "2025-04-19", "2025-04-20", "2025-04-21", "2025-04-22", "2025-04-23", "2025-04-24", "2025-04-25", "2025-04-26", "2025-04-27", "2025-04-28", "2025-04-29", "2025-04-30", "2025-05-01", "2025-05-02", "2025-05-03", "2025-05-04", "2025-05-05", "2025-05-06", "2025-05-07", "2025-05-08", "2025-05-09", "2025-05-10", "2025-05-11", "2025-05-12", "2025-05-13", "2025-05-14", "2025-05-15", "2025-05-16", "2025-05-17", "2025-05-18", "2025-05-19", "2025-05-20", "2025-05-21", "2025-05-22", "2025-05-23", "2025-05-24", "2025-05-25", "2025-05-26", "2025-05-27", "2025-05-28", "2025-05-29", "2025-05-30", "2025-05-31", "2025-06-01", "2025-06-02", "2025-06-03", "2025-06-04", "2025-06-05", "2025-06-06", "2025-06-07", "2025-06-08", "2025-06-09", "2025-06-10", "2025-06-11", "2025-06-12", "2025-06-13", "2025-06-14", "2025-06-15", "2025-06-16", "2025-06-17", "2025-06-18", "2025-06-19", "2025-06-20", "2025-06-21", "2025-06-22", "2025-06-23", "2025-06-24", "2025-06-25", "2025-06-26", "2025-06-27", "2025-06-28", "2025-06-29", "2025-06-30", "2025-07-01", "2025-07-02", "2025-07-03", "2025-07-04", "2025-07-05", "2025-07-06", "2025-07-07", "2025-07-08", "2025-07-09", "2025-07-10", "2025-07-11", "2025-07-12", "2025-07-13", "2025-07-14", "2025-07-15", "2025-07-16", "2025-07-17", "2025-07-18", "2025-07-19", "2025-07-20", "2025-07-21", "2025-07-22", "2025-07-23", "2025-07-24", "2025-07-25", "2025-07-26", "2025-07-27", "2025-07-28", "2025-07-29", "2025-07-30", "2025-07-31", "2025-08-01", "2025-08-02", "2025-08-03", "2025-08-04", "2025-08-05", "2025-08-06", "2025-08-07", "2025-08-08", "2025-08-09", "2025-08-10", "2025-08-11", "2025-08-12", "2025-08-13", "2025-08-14", "2025-08-15", "2025-08-16", "2025-08-17", "2025-08-18", "2025-08-19", "2025-08-20", "2025-08-21"];
            const datasets = [
                {"label": "\u7f8e\u56e2\u5916\u5356", "data": [47421748, 38215286, 31480550, 30116184, 30386902, 28607721, 31292645, 31428956, 28879494, 36814653, 31756496, 26718948, 26063153, 28003847, 56638517, 36067766, 41018495, 41497806, 32613221, 31712735, 27718927, 27590952, 33197581, 32447599, 37780668, 65599344, 30834674, 42925245, 35498345, 40387663, 38602392, 37041608, 26572258, 25109748, 35530147, 33006329, 31863349, 30502065, 27037678, 30989963, 29194958, 32457267, 64456184, 26060360, 25856600, 25834558, 37948360, 48573265, 26841495, 26984878, 24950888, 25845722, 27448390, 23169796, 26571020, 44792363, 42994786, 38841685, 40139120, 56042125, 53905964, 38739268, 33976076, 29176199, 33985505, 34442557, 29692476, 27001751, 24673721, 24574681, 26658614, 26277119, 27504483, 28661600, 24600984, 31110480, 28151487, 26306511, 25458562, 27463646, 29372042, 22940706, 24802175, 26107733, 23699678, 25819447, 29229111, 27636341, 28292434, 26352646, 24655210, 25480032, 39919292, 44652922, 32685835, 35126154, 35958093, 48625275, 55663755, 42655045, 36922766, 30731866, 30609379, 32917943, 30560880, 31260833, 30471821, 30227077, 28165336, 23106812, 26735710, 25613147, 27372740, 29743734, 32162388, 93151192, 63481784, 51924524, 47284971, 39674749, 41396395, 41356997, 39259842, 27599528, 33444491, 31528664, 30361148, 30944559, 28992705, 28607460, 23699685, 27400898, 29371564, 27591718, 29438643, 27473128, 25583895, 23107683, 26020995, 26534755, 25844756, 28124986, 28810493, 29630079, 25899313, 26483403, 43539174, 34935476, 28604433, 30318428, 26930998, 26457743, 32229143, 41594503, 38228738, 32287782, 30172343, 33290650, 38424943, 19936419, 14554680, 18321509, 21829727, 17631677, 20093981, 26389698, 27294455, 26888637, 27565913, 33963514, 27633037, 30948165, 37689746, 47618265, 51424335, 67858415, 50061322, 49202106, 40445998, 31494088, 40786850, 38325472, 51768074, 49994633, 46716491, 45839140, 35373040, 29370796, 29785192, 31432840, 28609048, 31550862, 30157949, 28411936, 27104966, 28576852, 28592836, 28620125, 31375310, 25952712, 23584720, 23240087, 26639610, 26950701, 28614765, 27118644, 25410033, 31570095, 27640137, 28514063, 30601391, 26770335, 27700246, 28589759, 27379062, 24072954, 25161258, 26986324, 27004644, 28062918, 28153537, 25165941, 27373618, 25702195, 30079349, 31911447, 31586342, 25072586, 21378795, 21825190, 24877565, 28308727, 28766183, 35793507, 50027224, 31629178, 30669598, 35098382, 38299800, 35191099, 37908867, 37612646, 41745726, 114930167, 225224825, 257137629, 207159956, 136537359, 145142544, 146447425, 116366386, 93773904, 82978148, 64228277, 66833830, 58858881, 56460065, 89478664, 40573262, 53191032, 50326089, 54046404, 45204020, 35621899, 52827327, 86366898, 48171972, 44955110, 47384440, 40196995, 41547487, 34806876, 31247379, 32747288, 35474784, 36036789, 46620233, 44138700, 66044169, 62896887, 51204661, 43254509, 53772693, 410964181, 229470875, 83435323, 42216582, 33324842, 68261296, 53216487, 36928355, 36072682, 31728685, 58985194, 43861057, 32624761, 33384654, 34904180, 28147228, 30971291, 42812109, 49802773, 53099882, 44771992, 40092838, 36665957, 54625952, 57025904, 56451142, 112253275, 185087442, 53019240, 42013884, 54168755, 43900563, 33950985, 35931830, 91697587, 126289006, 72826909, 54468743, 34307431, 28227700, 36868015, 40733413, 38820955, 69183632, 57354978, 65493158, 66214633, 56417028, 77072746, 65938932, 102510074, 71034573, 64117154, 44099274, 38568316, 42103428, 34578551, 40220276, 37784006, 36819026, 37839896, 44237176, 38952472, 40405555, 35839380, 38971425, 41879526, 78410120, 44314124, 35423317, 29574384, 29492540, 29782037, 38108666, 38275081, 34039441, 35253272, 24649197, 35292485, 33376305, 32549914, 55909540], "borderColor": "#FF6600", "backgroundColor": "#FF660030", "fill": false, "tension": 0.1, "borderWidth": 3, "pointRadius": 0, "pointHoverRadius": 6},
                {"label": "\u997f\u4e86\u4e48", "data": [15359901, 15107553, 22818368, 61279153, 37480268, 16635953, 19178981, 16715642, 14588251, 14563161, 15035199, 12621980, 12875714, 16565700, 16263351, 16660907, 18467298, 21245100, 14692961, 16554899, 23886135, 16987340, 21016685, 21363826, 18944760, 17848915, 18789082, 21532327, 19898683, 22442184, 28515630, 19203760, 21487509, 19249400, 21305494, 18547958, 16800480, 16975566, 16167542, 15916039, 14362600, 19889134, 14038242, 12379024, 14414956, 31288101, 37464751, 41270580, 18670701, 13771210, 14280464, 17129739, 20927863, 13571363, 31392236, 31703778, 25743658, 36289624, 30889697, 25398686, 16554778, 16255362, 18894263, 15198833, 15021727, 16954433, 123541602, 42438527, 16818410, 17229306, 15933863, 13789167, 15681255, 14173746, 13234574, 12835290, 15851047, 14483171, 13481877, 16528963, 15486407, 15618514, 12887431, 15059397, 14537313, 13968606, 18298768, 17383693, 15514504, 15521276, 22654868, 22347326, 23332862, 17371230, 22360283, 19340532, 15291447, 18749968, 16626717, 14054174, 20421616, 19685972, 16524092, 20325586, 20310322, 17723646, 18505804, 20268785, 13842474, 11497114, 12730209, 18511739, 14521260, 13720870, 17468682, 14290471, 11280673, 17422063, 22549989, 15360716, 29657610, 26297800, 16938916, 15681009, 15023649, 15479553, 15619632, 13582087, 18521571, 17200680, 14238150, 15911192, 16647151, 15159330, 13956217, 16157893, 13857519, 11466786, 11474390, 16895744, 17692258, 16780350, 17513807, 15680142, 12206461, 11813774, 15212855, 18343312, 16020833, 15254444, 12961707, 11257842, 15940397, 19668109, 13450533, 14898454, 14393697, 11263722, 9150285, 11126247, 6761628, 7405321, 12637172, 10123271, 31860506, 21517910, 23263668, 23360075, 16892855, 20659807, 20407468, 17802920, 19882020, 19134229, 22296135, 53769364, 56537577, 32767674, 18315895, 24998739, 16379765, 21994606, 41870981, 37163220, 31882419, 25394603, 20359367, 24830380, 27210173, 18925241, 21677836, 29532183, 21699077, 16836031, 17518697, 20484781, 20330939, 24024850, 24931709, 19472271, 18790466, 19139319, 18834974, 16249924, 19651604, 21462242, 19372758, 17341239, 16143826, 17859911, 19546031, 22765727, 28027491, 20083875, 18815946, 19903605, 20666146, 18179273, 21370399, 19516902, 18497818, 19651205, 17371920, 25269962, 22704699, 26772546, 19344001, 18980352, 13203144, 15396028, 18373802, 18288010, 21782885, 24447360, 22290678, 20204700, 19965954, 22335401, 22472539, 23211651, 23813302, 19319605, 50247092, 269363165, 228834754, 196715468, 130266405, 183062667, 125957144, 74544790, 52304696, 117161466, 101388105, 80722832, 55050471, 45472544, 45860174, 94571154, 84340733, 87001072, 37733688, 30781549, 26959120, 163562922, 298159490, 214930107, 77342839, 46543982, 33433310, 26243827, 22892526, 23826380, 21168052, 18393650, 18338410, 24575429, 18223988, 18436486, 20737763, 29219064, 32068427, 33911488, 35447790, 43301569, 28983365, 24417301, 40916103, 31304411, 34953201, 32179835, 25509363, 217758593, 277261619, 237865773, 126390299, 36836770, 45938439, 30423569, 36137823, 26897383, 28625658, 69005334, 140964008, 254577975, 61688791, 78267132, 56605880, 40958599, 47039451, 112864023, 218019324, 49022320, 31314087, 25616135, 29925349, 32199627, 59027020, 132312066, 76080967, 56630543, 59963819, 41114149, 31878006, 29222141, 58840834, 28423893, 66576811, 45410022, 69890094, 85772126, 173421586, 306520623, 203579535, 156930749, 127838106, 100077155, 82685440, 190033799, 159702678, 129924863, 74154980, 45622431, 37431842, 32452670, 152080793, 105067892, 57672465, 65555928, 70647509, 59838438, 77934705, 55484042, 47933379, 31782098, 31778251, 36142003, 47216241, 54400435, 45169934, 43233999, 31384131, 25670873, 24565051, 36706666, 28602151], "borderColor": "#0078FF", "backgroundColor": "#0078FF30", "fill": false, "tension": 0.1, "borderWidth": 3, "pointRadius": 0, "pointHoverRadius": 6},
                {"label": "\u4eac\u4e1c\u5916\u5356", "data": [171777, 38500, 18876, 23211, 42307, 67276, 79200, 61469, 632654, 2070993, 91895, 112289, 247676, 173316, 88066, 200684, 379281, 194700, 110924, 40767, 36212, 25498, 23167, 27676, 21406, 23607, 22946, 26224, 22638, 18458, 18326, 16588, 17974, 17776, 18618, 55022, 28598, 19073, 19005, 16546, 13918, 11107, 12047, 10071, 10552, 11827, 10652, 21914, 19023, 13480, 11660, 13181, 12476, 12940, 12543, 12123, 12015, 11860, 9087, 8471, 10653, 8893, 9681, 11028, 11444, 10032, 8713, 10385, 11706, 10496, 12475, 11223, 9746, 11023, 11728, 12607, 12540, 17731, 16929, 11810, 11110, 11881, 10489, 10505, 10875, 29924, 12811, 9818, 8408, 8169, 8476, 8694, 28341, 9992, 43455, 38856, 20355, 11829, 9347, 9553, 7436, 9065, 9725, 10255, 17404, 8208, 20330, 6889, 6402, 6271, 6248, 5456, 5831, 5896, 4708, 4555, 4599, 5390, 4026, 3894, 4204, 4363, 4542, 4558, 9483, 8031, 4862, 4818, 5215, 4796, 3719, 3961, 4334, 5302, 4818, 4991, 4095, 4184, 4444, 3631, 4005, 12014, 10539, 4339, 3790, 4251, 11623, 4842, 3832, 3487, 4412, 3521, 4611, 8959, 45259, 22299621, 16805823, 6886092, 2561636, 2608562, 3939607, 6240588, 4550282, 3045769, 7887042, 25010406, 3203034, 5664140, 5344999, 10454013, 7736978, 96803607, 67273905, 123174553, 351374339, 325429703, 464406544, 135697017, 100888370, 87241651, 77507788, 229461644, 477611338, 206778990, 187581788, 192049288, 138330627, 105499581, 99686747, 85925442, 68812188, 59790016, 48152083, 35432577, 31237801, 31718037, 32534535, 31313447, 24098346, 22781379, 18556968, 19435024, 15095418, 12165473, 15907776, 17168339, 20007287, 14112302, 13273056, 18292591, 51134763, 118821928, 62253703, 23588536, 41795960, 23176095, 23765516, 16979643, 12744711, 12532422, 13496272, 12092172, 16036985, 11670687, 10274100, 12658909, 14396846, 9177413, 9239805, 8173551, 292446336, 87552160, 54174625, 41796697, 87159777, 313772622, 153323011, 258726673, 164704952, 111027262, 109606939, 65103694, 222822539, 797385474, 884816132, 799866683, 675814999, 555263799, 515440633, 598641005, 542770197, 387239228, 283970046, 213401647, 184065593, 137699381, 134509132, 141380948, 118618448, 121481076, 83008217, 90484121, 157778001, 104019513, 82616271, 212658024, 248421702, 128972647, 88316689, 64157745, 83925282, 69674535, 51649562, 49034258, 102848956, 50895313, 40275226, 51160571, 119876472, 208982456, 158990149, 113072308, 67354233, 65246964, 48769006, 52461887, 61394498, 69936279, 51441828, 36788614, 37600360, 44689432, 53194415, 42878602, 89139158, 37570743, 32328339, 33342581, 33763859, 48662624, 125067572, 127766002, 113122907, 58350586, 48591355, 40255638, 112915784, 79764695, 72725646, 63751650, 35227921, 32889312, 37034919, 39643731, 37715137, 32995945, 30489796, 29489132, 35655197, 51148854, 41331783, 43013330, 36935451, 36087934, 50637080, 30684669, 62577181, 52228335, 127993066, 118016889, 73713101, 57097059, 39190249, 34735031, 54451005, 50256437, 40107794, 33223973, 36105803, 33263250, 34501919, 28228861, 27020885, 27621686, 29189558, 28030822, 23131190, 44699343, 29545898, 21679864, 23669181, 23816039, 20051124, 16911357, 16253914, 14340560, 16718252, 14547453, 23950284, 37687466, 30943115, 26426626, 41188070, 33407502, 26296432], "borderColor": "#AA2116", "backgroundColor": "#AA211630", "fill": false, "tension": 0.1, "borderWidth": 3, "pointRadius": 0, "pointHoverRadius": 6}
            ];
            
            // 获取图表元素
            const ctx = document.getElementById('lineChart');
            const loading = document.getElementById('loading');
            
            if (!ctx) {
                console.error('找不到图表容器');
                return;
            }
            
            try {
                // 创建图表
                const chart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: labels,
                        datasets: datasets
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            title: {
                                display: true,
                                text: '外卖平台微信指数趋势图',
                                font: {
                                    size: 18,
                                    weight: 'bold'
                                },
                                padding: 20
                            },
                            legend: {
                                display: true,
                                position: 'top',
                                labels: {
                                    boxWidth: 15,
                                    font: {
                                        size: 14
                                    },
                                    padding: 20
                                }
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return context.dataset.label + '：' + (context.parsed.y / 10000).toFixed(0) + '万';
                                    }
                                }
                            }
                        },
                        scales: {
                            x: {
                                title: {
                                    display: true,
                                    text: '日期',
                                    font: {
                                        weight: 'bold',
                                        size: 14
                                    }
                                },
                                ticks: {
                                    maxTicksLimit: 12,
                                    callback: function(value, index) {
                                        const date = new Date(this.getLabelForValue(value));
                                        return date.getFullYear() + '-' + String(date.getMonth() + 1).padStart(2, '0');
                                    }
                                }
                            },
                            y: {
                                title: {
                                    display: true,
                                    text: '微信指数',
                                    font: {
                                        weight: 'bold',
                                        size: 14
                                    }
                                },
                                ticks: {
                                    callback: function(value) {
                                        return (value / 10000).toFixed(0) + '万';
                                    }
                                }
                            }
                        },
                        interaction: {
                            intersect: false,
                            mode: 'index'
                        }
                    }
                });
                
                // 隐藏加载提示，显示图表
                loading.style.display = 'none';
                ctx.style.display = 'block';
                
                console.log('图表创建成功');
                
            } catch (error) {
                console.error('创建图表时出错:', error);
                loading.innerHTML = '图表加载失败：' + error.message;
            }
        });
        
        // 备用加载方案
        window.addEventListener('load', function() {
            setTimeout(function() {
                const canvas = document.getElementById('lineChart');
                const loading = document.getElementById('loading');
                if (canvas.style.display === 'none' && loading.style.display !== 'none') {
                    loading.innerHTML = '图表加载中，请稍候...';
                }
            }, 3000);
        });
    </script>
</body>
</html>
